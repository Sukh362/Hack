(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8316],{24960:function(){},26759:function(){},56272:function(){},57538:function(e,t,a){Promise.resolve().then(a.bind(a,16456)),Promise.resolve().then(a.t.bind(a,65878,23)),Promise.resolve().then(a.t.bind(a,72972,23)),Promise.resolve().then(a.t.bind(a,8625,23)),Promise.resolve().then(a.bind(a,38784)),Promise.resolve().then(a.bind(a,30088)),Promise.resolve().then(a.bind(a,50405))},38784:function(e,t,a){"use strict";a.d(t,{default:function(){return z}});var s=a(57437),l=a(2265),r=a(27648),n=a(42586);a(34603);var i=a(50612),o=a(99116),d=a(99638),c=a(48635),m=a(37579),u=a(36512),p=a(39963),g=a(44096),x=a(91990),f=a(90689),h=a(86203);function v(e){let{id:t,function_type:a,function_name:r,setMessageInfo:v,resultedFileUrls:b=null,setResultedFileUrls:y,setSampleFaces:w,setBtnContent:j,isLoading:N,isGeneratingPrompts:k,isCheckingImage:S,selectedMultipleImageFiles:P,setSelectedMultipleImageFiles:C,clearAll:_,imagePrompts:T,setShowOriginalImage:F,showOriginalImage:L,generateImageToPrompts:O,nsfwDetector:I,imageToVideoConfiguration:D}=e,M=(0,n.useTranslations)("upload_component"),R="image/jpeg, image/png, image/webp",[Z,U]=(0,l.useState)(!1),[E,z]=(0,l.useState)(!1),[V,q]=(0,l.useState)(""),H=()=>Math.random().toString(36).substr(2,9);(0,l.useEffect)(()=>{let e=async e=>{let t=e.clipboardData.items,a=[];for(let e=0;e<t.length;e++)if("file"===t[e].kind){let s=t[e].getAsFile();s&&R.includes(s.type)&&a.push(s)}a.length>0&&await $(a)};return document.addEventListener("paste",e),()=>{document.removeEventListener("paste",e)}},[]),(0,l.useEffect)(()=>{(async()=>{if(P&&P.length>0)try{let e=await I();e&&!0===e.nsfw&&v({message:M("no_nfsw_image"),messageType:"warning"})}catch(e){console.error("NSFW detection error:",e),v({message:M("upload_fail"),messageType:"error"})}})()},[P]);let $=async e=>{_();let a=[],s=R.split(", "),l=e[0];if(l){if(!s.includes(l.type)){v({message:M("warn_formats"),messageType:"error"});return}let e=await (0,i.$n)(l),t=URL.createObjectURL(e),r=URL.createObjectURL(l),n=await (0,i.Yy)(r);a.push({filename:l.name,file:l,url:r,imageWidth:n.width,imageHeight:n.height,previewUrl:t,resultUrl:null,id:H(),imageId:null})}C(a),document.getElementById("fileInput-".concat(t)).value="",y(null),j((0,d.yS)(M).original)},B=e=>{C(t=>{let a=t.filter(t=>t.id!==e);return 0===a.length&&_(),a})},A=async(e,t)=>{try{let a=await fetch(e);if(!a.ok)throw Error("Network response was not ok.");let s=await a.blob(),l=window.URL.createObjectURL(s),r=document.createElement("a");r.href=l,r.setAttribute("download","".concat(t.replace(/\.[^/.]+$/,""),".")+D.videoFormat),document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(l)}catch(e){console.error("Download failed:",e)}},W=async()=>{try{let{base64:e,contentType:t,fileName:a}=await (0,h.d)(V),s=atob(e),l=new Uint8Array(s.length);for(let e=0;e<s.length;e++)l[e]=s.charCodeAt(e);let r=new Blob([l],{type:t}),n=new File([r],a,{type:t});$([n]),z(!1),q("")}catch(e){console.error("Error fetching the image:",e),v({message:M("invalid_url"),messageType:"error"})}},Y=(e,t)=>(0,s.jsxs)("div",{className:"inline-flex absolute top-2 right-2 z-10 gap-x-2",children:[b&&(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("button",{className:"p-2 bg-neutral-100/[0.8] hover:bg-neutral-50 dark:bg-neutral-700 hover:dark:bg-neutral-800 rounded-full",onClick:e=>{e.stopPropagation(),A(b,t)},disabled:N,children:(0,s.jsx)(c.Z,{size:16})})}),(0,s.jsx)("button",{className:"p-2 bg-neutral-100/[0.8] hover:bg-neutral-50 dark:bg-neutral-700 hover:dark:bg-neutral-800 rounded-full",onClick:t=>{t.stopPropagation(),B(e)},disabled:N,children:(0,s.jsx)(m.Z,{size:16})})]}),G=(0,s.jsxs)("div",{className:"relative w-full h-full flex flex-col min-h-[160px] items-center justify-center mx-auto cursor-pointer rounded-lg\n            ".concat(Z?"border-4 border-accent border-dashed":""),onDragOver:e=>(0,o.CV)(e,U),onDragLeave:e=>(0,o.aB)(e,U),onDrop:e=>(0,o.LQ)(e,U,a,$),children:[(0,s.jsx)("input",{type:"file",id:"fileInput-".concat(t),onChange:e=>$(e.target.files),style:{display:"none"},accept:R,multiple:!0,disabled:P.length>0}),null!=P&&P.length>0?(0,s.jsx)("div",{className:"w-full h-full",children:P.map((e,t)=>(0,s.jsxs)("div",{className:"h-full bg-neutral-50 dark:bg-neutral-900 rounded-xl relative",children:[b?(0,s.jsxs)("div",{className:"h-full relative",children:[(0,s.jsx)("video",{src:b,controls:!0,autoPlay:!0,loop:!0,muted:!0,className:"w-full h-full object-contain",children:"Your browser does not support the video tag."}),(0,s.jsx)("img",{src:e.previewUrl,alt:"Selected ".concat(t),className:"absolute w-36 max-h-36 left-2 top-2 rounded-lg shadow-xl object-contain"})]}):(0,s.jsx)("img",{src:e.previewUrl,alt:"Selected ".concat(t),className:"w-full h-full object-contain"}),N?(0,s.jsx)(f.Z,{isLoading:N,style:"image2video"}):(0,s.jsx)(f.Z,{isLoading:S||k,style:"multiple"}),Y(e.id,e.filename)]},t))}):(0,s.jsx)("div",{className:"h-full flex flex-col justify-center items-center",children:(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex flex-row items-center justify-center gap-x-2",children:[(0,s.jsx)("button",{type:"button",onClick:()=>document.getElementById("fileInput-".concat(t)).click(),className:"py-3 px-4 inline-flex justify-center items-center gap-x-2 text-sm rounded-lg border border-transparent bg-amber-300 dark:bg-violet-600 text-black dark:text-white font-semibold hover:bg-amber-400 dark:hover:bg-violet-700 disabled:opacity-50 disabled:pointer-events-none",children:(0,s.jsxs)("div",{className:"inline-flex items-center justify-center gap-x-2",children:[(0,s.jsx)(u.Z,{size:24,variant:"solid"}),"Upload your images"]})}),(0,s.jsx)("button",{type:"button",className:"p-3 inline-flex justify-center items-center gap-x-2 text-sm rounded-lg border border-neutral-200 hover:bg-neutral-50 dark:border-neutral-700 hover:dark:bg-neutral-700 disabled:opacity-50 disabled:pointer-events-none",onClick:e=>{e.stopPropagation(),z(!E)},children:(0,s.jsx)(p.Z,{size:24,variant:"solid"})})]}),E&&(0,s.jsxs)("div",{className:"w-full mt-4 inline-flex gap-x-2 items-center",children:[(0,s.jsx)("input",{type:"text",className:"py-2 px-3 block w-full border-gray-200 rounded-lg sm:text-sm dark:bg-neutral-900 dark:border-neutral-700 dark:text-neutral-400 dark:placeholder-neutral-500",placeholder:"Enter image URL",value:V,onClick:e=>{e.stopPropagation()},onChange:e=>{q(e.target.value)}}),(0,s.jsxs)("div",{className:"inline-flex gap-x-1 items-center",children:[(0,s.jsx)("button",{type:"button",className:"p-1 text-sm rounded-full border border-transparent text-black dark:text-white font-semibold hover:bg-amber-600 dark:hover:bg-neutral-700",onClick:e=>{e.stopPropagation(),z(!1)},children:(0,s.jsx)(g.Z,{size:16})}),(0,s.jsx)("button",{type:"button",className:"p-1 text-sm rounded-full border border-transparent text-black dark:text-white font-semibold hover:bg-amber-600 dark:hover:bg-neutral-700",onClick:e=>{e.stopPropagation(),W()},children:(0,s.jsx)(x.Z,{size:18})})]})]}),(0,s.jsx)("p",{className:"font-semibold text-sm mt-4 ",children:M("drag")}),(0,s.jsx)("p",{className:"text-xs opacity-80",children:"jpeg, png, webp images allowed."}),(0,s.jsxs)("div",{className:"mt-8 text-xs opacity-80",children:["Support ",(0,s.jsx)("span",{className:"text-lg font-semibold p-2 rounded-lg border-2 border-blue-800 text-blue-800 dark:text-neutral-200 mx-1",children:"Ctrl"})," + ",(0,s.jsx)("span",{className:"text-lg font-semibold p-2 rounded-lg border-2 border-blue-800 text-blue-800 dark:text-neutral-200 mx-1",children:"V"})," to paste image(s)"]})]})})]});return(0,s.jsx)("div",{className:"relative h-full",children:G})}a(86451);var b=a(12405),y=a(80380),w=a(15808),j=a(72440);a(57141),a(33145);var N=JSON.parse('{"E":{"dev":{"id":1,"name":"quality","cost":0,"commercial":true,"powered":"Vheer","disabled":false,"videoFormatOptions":[{"name":"Mp4","value":"mp4"},{"name":"WebM","value":"webm"}],"videoLengthOptions":[{"name":"5s","value":5}],"videoFrameRateOptions":[{"name":"24fps","value":24},{"name":"25fps","value":25}],"videoDimensionOptions":[{"name":"768P","value":768}]},"pro":{"id":2,"name":"pro","cost":20,"commercial":true,"powered":"Vheer","disabled":false,"videoFormatOptions":[{"name":"Mp4","value":"mp4"},{"name":"WebM","value":"webm"}],"videoLengthOptions":[{"name":"5s","value":5}],"videoFrameRateOptions":[{"name":"24fps","value":24},{"name":"25fps","value":25}],"videoDimensionOptions":[{"name":"480P","value":480},{"name":"768P","value":768}]},"max":{"id":3,"name":"max","baseCost":40,"commercial":true,"powered":"Replicate","disabled":false,"videoFormatOptions":[{"name":"Mp4","value":"mp4"}],"videoLengthOptions":[{"name":"6s","value":6},{"name":"10s","value":10}],"videoFrameRateOptions":[],"videoDimensionOptions":[{"name":"512P","value":512},{"name":"768P","value":768},{"name":"1080P","value":1080}],"costMatrix":{"512_6":40,"512_10":45,"768_6":50,"768_10":60,"1080_6":70}}}}'),k=a(69215);function S(e){var t,a,r,i;let{isLoading:o,generatedPrompts:d,setGeneratedPrompts:c,selectedMultipleImageFiles:m,imageToVideoConfiguration:u,setImageToVideoConfiguration:p,isGeneratingPrompts:g,selectedImage2VideoModel:x,generateImageToPrompts:f}=e;(0,n.useTranslations)("upload_component");let[h,v]=(0,l.useState)("mp4"),[S,P]=(0,l.useState)(5),[C,_]=(0,l.useState)(24),[T,F]=(0,l.useState)(768),L=Object.values(N.E).find(e=>e.id===x)||N.E.dev,O=L.videoFormatOptions||[],I=L.videoLengthOptions||[],D=L.videoFrameRateOptions||[],M=L.videoDimensionOptions||[],R=(e,t)=>"max"!==L.name||!L.costMatrix||void 0!==L.costMatrix["".concat(e,"_").concat(t)],Z=()=>"max"!==L.name?I:I.filter(e=>R(T,e.value)),U=()=>"max"!==L.name?M:M.filter(e=>R(e.value,S));(0,l.useEffect)(()=>{if(O.length>0){let e=O[0].value;v(e),E("videoFormat",e)}if(I.length>0){let e=I[0].value;P(e),E("videoLength",e)}if(D.length>0){let e=D[0].value;_(e),E("frameRate",e)}if(M.length>0){let e=M[0].value;F(e),E("videoDimension",e)}},[x]);let E=(e,t)=>{p(a=>({...a,[e]:t}))},z=e=>{c(e),E("positivePrompt",e)},V=e=>{E("videoPrompt",e)},q=e=>{E("videoFormat",e)},H=e=>{if(P(e),E("videoLength",e),"max"===L.name&&!R(T,e)){let t=M.filter(t=>R(t.value,e));if(t.length>0){let e=t[0].value;F(e),E("videoDimension",e)}}},$=e=>{if(F(e),E("videoDimension",e),"max"===L.name&&!R(e,S)){let t=I.filter(t=>R(e,t.value));if(t.length>0){let e=t[0].value;P(e),E("videoLength",e)}}},B=e=>{E("frameRate",e)};return(0,s.jsxs)("div",{className:"flex flex-col gap-y-3 px-2 py-4",children:[(0,s.jsx)("span",{className:"text-xs opacity-80 text-left p-4 rounded-lg bg-neutral-100 dark:bg-neutral-900",children:"\uD83D\uDC49 Tips: Pro and Max image-to-video models are now live. Processing may take 30 seconds to 5 minutes. Please be patient and check your results in Account → History. "}),(0,s.jsxs)("div",{className:"flex flex-col gap-y-2",children:[(0,s.jsxs)("div",{className:"inline-flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-sm opacity-80 font-semibold text-left",children:"Basic Image Prompts"}),g?(0,s.jsx)(j.Z,{style:"small"}):(0,s.jsx)("button",{onClick:()=>{f()},className:"p-1 flex items-center justify-center rounded-full bg-amber-300 dark:bg-violet-600 hover:bg-amber-400 dark:hover:bg-violet-700",children:(0,s.jsx)(y.Z,{size:14,className:"text-black dark:text-white",variant:"stroke"})})]}),(0,s.jsx)("textarea",{value:g?"Generating prompts...":d,disabled:g,onChange:e=>z(e.target.value),placeholder:"Input image description here or use the prompts generator",className:"text-neutral-600 dark:text-neutral-300 py-2 px-3 block w-full h-[90px] border-gray-200 rounded-lg text-sm focus:border-blue-500 focus:ring-blue-500 disabled:opacity-50 disabled:pointer-events-none dark:bg-neutral-900 dark:border-neutral-700 dark:text-neutral-400 dark:placeholder-neutral-500 dark:focus:ring-neutral-600"})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-y-2",children:[(0,s.jsxs)("div",{className:"inline-flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-sm opacity-80 font-semibold text-left",children:"Camera Prompts(Optional)"}),(0,s.jsx)("button",{onClick:()=>{V(k.video_movement_prompts[Math.floor(Math.random()*k.video_movement_prompts.length)])},className:"p-1 flex items-center justify-center rounded-full bg-amber-300 dark:bg-violet-600 hover:bg-amber-400 dark:hover:bg-violet-700",children:(0,s.jsx)(w.Z,{size:14,className:"text-black dark:text-white",variant:"stroke"})})]}),(0,s.jsx)("textarea",{value:u.videoPrompt,placeholder:"Input camera movement prompts here",onChange:e=>V(e.target.value),className:"text-neutral-600 dark:text-neutral-300 py-2 px-3 block w-full h-[80px] border-gray-200 rounded-lg text-sm focus:border-blue-500 focus:ring-blue-500 disabled:opacity-50 disabled:pointer-events-none dark:bg-neutral-900 dark:border-neutral-700 dark:text-neutral-400 dark:placeholder-neutral-500 dark:focus:ring-neutral-600"})]}),(0,s.jsxs)("div",{className:"flex flex-row gap-x-2 items-center w-full min-h-[32px]",children:[(0,s.jsx)("span",{className:"text-sm opacity-80 font-semibold text-left w-2/3",children:"Video Format"}),(0,s.jsxs)("div",{className:"flex flex-row gap-x-2 items-center justify-end w-1/3",children:[(0,s.jsx)("span",{className:"uppercase text-sm",children:h}),(0,s.jsx)(b.Z,{label:"videoFormat",disabled:o,options:O.map(e=>e.name),value:(null===(t=O.find(e=>e.value===h))||void 0===t?void 0:t.name)||"Mp4",onSelect:e=>{let t=O.find(t=>t.name===e);t&&(v(t.value),q(t.value))},style:"icon"})]})]}),(0,s.jsxs)("div",{className:"flex flex-row gap-x-2 items-center w-full min-h-[32px]",children:[(0,s.jsx)("span",{className:"text-sm opacity-80 font-semibold text-left w-2/3",children:"Video Length"}),(0,s.jsxs)("div",{className:"flex flex-row gap-x-2 items-center justify-end w-1/3",children:[(0,s.jsxs)("span",{className:"uppercase text-sm",children:[S,"s"]}),(0,s.jsx)(b.Z,{label:"videoLength",disabled:o,options:Z().map(e=>e.name),value:(null===(a=Z().find(e=>e.value===S))||void 0===a?void 0:a.name)||"6s",onSelect:e=>{let t=Z().find(t=>t.name===e);t&&H(t.value)},style:"icon"})]})]}),D.length>0&&(0,s.jsxs)("div",{className:"flex flex-row gap-x-2 items-center w-full min-h-[32px]",children:[(0,s.jsx)("span",{className:"text-sm opacity-80 font-semibold text-left w-2/3",children:"Video Frame Rate"}),(0,s.jsxs)("div",{className:"flex flex-row gap-x-2 items-center justify-end w-1/3",children:[(0,s.jsxs)("span",{className:"uppercase text-sm",children:[C,"fps"]}),(0,s.jsx)(b.Z,{label:"videoFrameRate",disabled:o,options:D.map(e=>e.name),value:(null===(r=D.find(e=>e.value===C))||void 0===r?void 0:r.name)||"24fps",onSelect:e=>{let t=D.find(t=>t.name===e);t&&(_(t.value),B(t.value))},style:"icon"})]})]}),(0,s.jsxs)("div",{className:"flex flex-row gap-x-2 items-center w-full min-h-[32px]",children:[(0,s.jsx)("span",{className:"text-sm opacity-80 font-semibold text-left w-2/3",children:"Video Dimension"}),(0,s.jsxs)("div",{className:"flex flex-row gap-x-2 items-center justify-end w-1/3",children:[(0,s.jsxs)("span",{className:"uppercase text-sm",children:[T,"P"]}),(0,s.jsx)(b.Z,{label:"videoDimension",disabled:o,options:U().map(e=>e.name),value:(null===(i=U().find(e=>e.value===T))||void 0===i?void 0:i.name)||"768P",onSelect:e=>{let t=U().find(t=>t.name===e);t&&$(t.value)},style:"icon"})]})]})]})}var P=a(61806),C=a(3479),_=a(71360),T=a(71745),F=a(68575),L=a(35594),O=a(88092),I=a(30365);a(24699);var D=a(80605),M=a(32577),R=a(4674),Z=a(56487),U=a(3345);let E={1:"More time required for processing the video. Please try it again later.",2:"More time required for processing the video. You can wait and check in the History.",3:"More time required for processing the video. You can wait and check in the History."};var z=e=>{var t;let{function_type:a,function_name:o,slug:c="",defaultImageList:m=null}=e,u=(0,n.useTranslations)("upload_component"),[p,g]=(0,l.useState)(!1),[x,f]=(0,l.useState)(""),[h,b]=(0,l.useState)(!1),[y,w]=(0,l.useState)([]),[k,z]=(0,l.useState)(!1),[V,q]=(0,l.useState)(!1),[H,$]=(0,l.useState)(!1),[B,A]=(0,l.useState)((0,d.yS)(u).original),[W,Y]=(0,l.useState)(""),[G,J]=(0,l.useState)(null),[Q,K]=(0,l.useState)("");(0,l.useRef)(null);let X=(0,l.useRef)(0),ee=(0,l.useRef)(null),[et,ea]=(0,l.useState)({}),[es,el]=(0,l.useState)("long"),[er,en]=(0,l.useState)([]),[ei,eo]=(0,l.useState)(!0),ed="auth2LoginDialogId",[ec,em]=(0,l.useState)(!1),[eu,ep]=(0,l.useState)({positivePrompt:"",videoPrompt:"",negativePrompt:"low quality, bad quality, blurry, pixelated, distorted, poorly drawn, out of focus",frameRate:24,videoLength:5,videoFormat:"mp4",videoDimension:768}),[eg,ex]=(0,l.useState)(1),ef=N.E,eh=()=>Object.values(ef).find(e=>e.id===eg),ev=(e,t,a)=>{if("max"===e.name&&e.costMatrix){let s="".concat(t,"_").concat(a);return e.costMatrix[s]||e.baseCost}return e.cost||e.baseCost||0},{userInfo:eb={},userType:ey,isLogin:ew}=(0,F.v9)(e=>e.user),[ej,eN]=(0,l.useState)({message:"",messageType:""}),ek=(0,l.useCallback)(async()=>{ee.current&&clearInterval(ee.current),ee.current=setInterval(async()=>{try{if(ew){let e=await (0,Z.zb)(),t=await (0,U.LZ)(e);ea(t)}}catch(e){console.error("Timer error:",e),ee.current&&clearInterval(ee.current)}},1e4)},[ew]);(0,l.useEffect)(()=>(ew&&ek(),()=>{ee.current&&(clearInterval(ee.current),ee.current=null)}),[ew,ek]);let eS=()=>{if([2,3].includes(eg)){if(!ew)return HSOverlay.open("#".concat(ed)),!1;{null==eb&&(eb={});let{memberType:e=0,registerType:t=0,downloadCount:a=0}=eb;if(e<=0||t<=0||a<=0)return HSOverlay.open("#".concat(ed)),!1;if(a<=0)return eN({message:u("warn_no_credits"),messageType:"warning"}),!1;if(2==eg&&et.proCount>0||3==eg&&et.maxCount>0)return eN({message:"You have one task in queue — please wait until it’s done.",messageType:"warning"}),!1}}if(y.length<1)return eN({message:u("warn_no_image"),messageType:"warning"}),!1;let e=eu.positivePrompt+","+eu.videoPrompt.substring(0,1200),t=(0,i.s4)(e);if(t.found){eN({message:u("no_nfsw")+" (".concat(t.word,")"),messageType:"warning"});return}return!0},eP=(0,l.useMemo)(()=>{let e=et.proCount||0,t=et.maxCount||0,a=e+t;return 0===a?(0,s.jsx)(s.Fragment,{}):(0,s.jsxs)("div",{className:"absolute bottom-11 right-8 z-30",children:[(0,s.jsxs)("button",{onClick:()=>em(!ec),className:"relative rounded-full bg-neutral-800/90 backdrop-blur-sm text-neutral-200 p-2 shadow-sm border border-neutral-700/50 hover:bg-neutral-700/90 transition-all duration-200 group",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(_.Z,{width:18,height:18,strokeWidth:2,className:"text-amber-400"}),(0,s.jsx)("span",{className:"text-sm font-semibold",children:a})]}),(0,s.jsxs)("div",{className:"absolute -top-1 -right-1 flex gap-0.5",children:[e>0&&(0,s.jsx)("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-pulse"}),t>0&&(0,s.jsx)("div",{className:"w-2 h-2 bg-purple-400 rounded-full animate-pulse"})]})]}),ec&&(0,s.jsxs)("div",{className:"absolute bottom-full right-0 mb-2 rounded-lg bg-neutral-800/95 backdrop-blur-sm text-neutral-200 text-sm font-medium py-3 px-4 min-w-[220px] shadow-xl border border-neutral-700/50 animate-in slide-in-from-bottom-2 duration-200",children:[(0,s.jsx)("div",{className:"absolute top-full right-4 w-0 h-0 border-l-4 border-l-transparent border-r-4 border-r-transparent border-t-4 border-t-neutral-800/95"}),(0,s.jsx)("div",{className:"flex items-center gap-2 mb-2 pb-2 border-b border-neutral-600/50",children:(0,s.jsx)("span",{className:"font-semibold text-neutral-100",children:"Processing Queue"})}),(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("div",{className:"flex items-center gap-2",children:(0,s.jsx)("span",{className:"text-neutral-300",children:"Pro model:"})}),(0,s.jsx)("span",{className:"text-neutral-200 font-semibold",children:e>0?"".concat(e," processing..."):e})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("div",{className:"flex items-center gap-2",children:(0,s.jsx)("span",{className:"text-neutral-300",children:"Max model:"})}),(0,s.jsx)("span",{className:"text-neutral-200 font-semibold",children:t>0?"".concat(t," processing..."):t})]})]}),(0,s.jsx)("div",{className:"flex items-center gap-2 mt-2 pt-2 border-t border-neutral-600/50",children:(0,s.jsxs)("span",{className:"text-left font-light text-neutral-300 text-xs",children:["For more details, visit"," ",(0,s.jsx)(r.default,{className:"font-semibold text-blue-400 hover:text-blue-300 underline",href:"/account",onClick:()=>{setTimeout(()=>{{window.location.hash="tabs-with-icons-3";let e=document.getElementById("tabs-with-icons-item-3");e&&e.click()}},500)},children:"History"})]})}),a>1&&(0,s.jsx)("div",{className:"mt-2 pt-2 border-t border-neutral-600/50",children:(0,s.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,s.jsx)("span",{className:"text-neutral-400",children:"Total tasks:"}),(0,s.jsx)("span",{className:"text-amber-400 font-semibold",children:a})]})})]})]})},[et,ec]);async function eC(){eo(!0),g(!1),eS()&&(z(!0),A((0,d.yS)(u).uploading),J(null),eO())}let e_=async()=>{if(y.length<1){eN({message:u("warn_no_image"),messageType:"warning"});return}q(!0);let e=y[0].file,t=new FormData,s=await (0,i.Fq)(e,"",a,!1,512);t.append("image",s),t.append("promptStyle","short");try{let e=await (0,D.yz)(t);if(!1===e){eN({message:"This program is under maintenance currently. Please try it later or use other programs.",messageType:"info"}),A((0,d.yS)(u).original),q(!1),z(!1);return}if(!e||"object"!=typeof e){eN({message:"Invalid response from server. Please try again.",messageType:"error"}),A((0,d.yS)(u).original),q(!1);return}if(e.error){eN({message:"Processing failed: ".concat(e.error),messageType:"error"}),z(!1),A((0,d.yS)(u).original),q(!1);return}let a=e.caption||e.text||"";if(!a.trim()){eN({message:"No text content generated from the image. Please try it again.",messageType:"warning"}),z(!1),A((0,d.yS)(u).original),q(!1);return}en(a),q(!1),z(!1),A((0,d.yS)(u).original),ep(e=>({...e,positivePrompt:a}))}catch(e){eN({message:e.message||u("upload_fail"),messageType:"error"}),console.error("Upload error:",e),q(!1),z(!1);return}},eT=async()=>{if(y.length<1)return eN({message:u("warn_no_image"),messageType:"warning"}),null;$(!0);let e=y[0].file,t=new FormData,s=await (0,i.Fq)(e,"",a,!1,512);t.append("file",s);try{let e=await (0,D.Ht)(t);return $(!1),A((0,d.yS)(u).original),e}catch(e){return eN({message:e.message||u("upload_fail"),messageType:"error"}),console.error("Upload error:",e),$(!1),null}},eF=async e=>{let t=e[0];try{let e=await fetch(t);if(!e.ok)throw Error("Network response was not ok.");let a=await e.blob(),s=window.URL.createObjectURL(a);J(s);let l=t.substring(t.lastIndexOf("/")+1,t.length);Y(l),A((0,d.yS)(u).downloading),z(!1),eo(!1),A((0,d.yS)(u).original),eN({message:u("process_success"),messageType:"success"}),X.current=0}catch(e){console.error("Download failed:",e)}},eL=async e=>{if(X.current>=40){A((0,d.yS)(u).original),eN({message:E[eg],messageType:"info"}),X.current=0,z(!1);return}A((0,d.yS)(u).processing);let{code:t,data:a,message:s}=await (0,I.Dw)({params:e});if(X.current++,200==t){if("waiting"==a.status)setTimeout(()=>{eL(e)},5e3);else{let{downloadUrls:e}=a;null!=e&&e.length>0&&(eF(e),g(!0))}}else eN({message:s,messageType:"error"}),z(!1),A((0,d.yS)(u).original)},eO=async()=>{let e=eu.positivePrompt+","+eu.videoPrompt.substring(0,1200);for(let l=0;l<y.length;l++){var t,s;let r=y[l],n=new FormData,o={positive_prompts:e,negative_prompts:eu.negativePrompt,type:5,width:y[l].imageWidth,height:y[l].imageHeight,frameRate:eu.frameRate,videoLength:eu.videoLength,videoFormat:eu.videoFormat,videoDimension:eu.videoDimension,model:eg,email:null!==(t=null==eb?void 0:eb.email)&&void 0!==t?t:"",costCredits:(()=>{let e=eh();return(null==e?void 0:e.name)==="max"&&e.costMatrix?ev(e,eu.videoDimension||768,eu.videoLength||5):(null==e?void 0:e.cost)||(null==e?void 0:e.baseCost)||0})()},c=await (0,i.Fq)(r.file,null,a,!1,1024);n.append("file",c);let m=await M.Z.encrypt(JSON.stringify(o));await M.Z.decryptAndLog(m,"Upload Parameters"),n.append("params",m);try{let{code:e,imageId:t}=await (0,L.Z)({url:"/api/Vheer/UploadByFileNew",data:n,method:"POST",headers:{"Content-Type":"multipart/form-data"},onUploadProgress:e=>{let t=Math.round(100*e.loaded/e.total);A((0,d.yS)(u).uploading+t+"%")}});y[l].imageId=t,K(e),eN({message:u("upload_success"),messageType:"info"});let a={type:5,code:e,email:null!==(s=null==eb?void 0:eb.email)&&void 0!==s?s:"",model:eg},r=await M.Z.encrypt(JSON.stringify(a));await M.Z.decryptAndLog(r,"Check Status Parameters"),setTimeout(()=>{eL(r)},5e3)}catch(e){eN({message:e.message||u("upload_fail"),messageType:"error"}),z(!1),A((0,d.yS)(u).original);return}}};return(0,s.jsxs)(s.Fragment,{children:[ej.message&&(0,s.jsx)(O.Z,{messageInfo:ej,clearMessage:()=>eN("")}),(0,s.jsx)(R.Z,{dialogId:"auth2LoginDialogId",showType:ew?"price":"login"}),(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("div",{className:"mx-auto inline-flex w-full",children:(0,s.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 mx-auto w-full md:h-[640px]",children:[(0,s.jsxs)("div",{className:"relative h-[460px] p-4 md:h-full md:basis-2/3 bg-white dark:bg-neutral-800 rounded-lg",children:[(0,s.jsx)(v,{id:1,isLoading:k,isGeneratingPrompts:V,isCheckingImage:H,function_type:a,resultedFileUrls:G,setResultedFileUrls:J,setBtnContent:A,setMessageInfo:eN,selectedMultipleImageFiles:y,setSelectedMultipleImageFiles:w,clearAll:()=>{J(null),f(""),z(!1),A((0,d.yS)(u).original),K(""),g(!1),w([]),X.current=0,eo(!0),en([]),ep({positivePrompt:"",videoPrompt:"",negativePrompt:"low quality, bad quality, blurry, pixelated, distorted, poorly drawn, out of focus",frameRate:24,videoLength:5,videoFormat:"mp4",videoDimension:768})},showOriginalImage:ei,setShowOriginalImage:eo,generateImageToPrompts:e_,nsfwDetector:eT,imageToVideoConfiguration:eu}),eP]}),(0,s.jsxs)("div",{className:"relative md:basis-1/3 h-[320px] bg-accent/90 h-full rounded-lg flex flex-col justify-between bg-white dark:bg-neutral-800",children:[(0,s.jsx)("div",{className:"pl-3 pb-4 flex flex-col pr-2 overflow-y-auto",children:(0,s.jsx)(S,{isLoading:k,setBtnContent:A,generatedPrompts:er,setGeneratedPrompts:en,selectedPromptStyle:es,setSelectedPromptStyle:el,handleCopyPrompts:()=>{navigator.clipboard.writeText(er[0]).then(()=>eN({message:u("copy_success"),messageType:"success"})).catch(()=>eN({message:u("copy_fail"),messageType:"error"}))},selectedMultipleImageFiles:y,setSelectedMultipleImageFiles:w,imageToVideoConfiguration:eu,setImageToVideoConfiguration:ep,generateImageToPrompts:e_,isGeneratingPrompts:V,setIsGeneratingPrompts:q,selectedImage2VideoModel:eg})}),(0,s.jsxs)("div",{className:"flex flex-col gap-y-2 py-4 px-4 bg-neutral-50 dark:bg-neutral-800 border-t border-gray-200 dark:border-neutral-700",children:[(0,s.jsx)(C.T,{modelItems:ef,selectedModel:eg,setSelectedModel:ex}),(0,s.jsx)("button",{disabled:k||V,onClick:()=>{eC()},type:"button",className:"w-full py-3 px-4 inline-flex justify-center items-center gap-x-2 text-sm font-medium rounded-lg border border-transparent bg-amber-300 dark:bg-violet-600 text-black dark:text-white font-semibold hover:bg-amber-400 dark:hover:bg-violet-700 disabled:opacity-50 disabled:pointer-events-none",children:(0,s.jsx)("div",{className:"inline-flex items-center justify-center tracking-wide font-semibold",children:k?(0,s.jsx)(j.Z,{style:"small"}):B})}),(0,s.jsx)(T.Z,{credit_num:(()=>{let e=eh();return(null==e?void 0:e.name)==="max"&&e.costMatrix?ev(e,eu.videoDimension||768,eu.videoLength||5):(null==e?void 0:e.cost)||(null==e?void 0:e.baseCost)||0})(),powered_by:(null===(t=eh())||void 0===t?void 0:t.powered)||"",type:"video"})]})]})]})}),(0,s.jsx)(P.default,{})]})]})}},50405:function(e,t,a){"use strict";var s=a(57437);a(2265);var l=a(18171);t.default=e=>{let{date:t}=e,a=(e=>{if(!e)return"";let t="string"==typeof e?new Date(e):e,a=String(t.getDate()).padStart(2,"0"),s=String(t.getMonth()+1).padStart(2,"0"),l=t.getFullYear();return"".concat(a,"/").concat(s,"/").concat(l)})(t||new Date);return(0,s.jsxs)("div",{className:"text-xs opacity-70 items-center flex flex-row gap-x-1",children:[(0,s.jsx)("div",{className:"col-start-1 text-end",children:(0,s.jsx)("div",{className:"flex hs-tooltip [--placement:left] inline-block items-center ",children:(0,s.jsxs)("button",{type:"button",className:"hs-tooltip-toggle ",children:[(0,s.jsx)(l.Z,{width:16,height:16,variant:"solid"}),(0,s.jsx)("span",{className:"hs-tooltip-content hs-tooltip-shown:opacity-100 hs-tooltip-shown:visible opacity-0 transition-opacity inline-block absolute invisible z-10 py-1 px-2 bg-gray-900 text-xs font-medium text-white rounded-md shadow-2xs dark:bg-neutral-700",role:"tooltip",children:"This tool updated recently"})]})})}),a]})}},86451:function(e,t,a){"use strict";a.d(t,{Z:function(){return l}});var s=a(57437);function l(e){let{id:t,label:a,step:l,value:r,onChange:n,min:i=0,max:o=100,disabled:d=!1}=e;return(0,s.jsx)("div",{className:"flex flex-col gap-y-1",children:(0,s.jsx)("input",{id:t,type:"range",step:l,min:i,max:o,value:r,disabled:d,onChange:e=>n(e.target.value),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700"})})}},86203:function(e,t,a){"use strict";a.d(t,{d:function(){return s}}),a(83079);var s=(0,a(12119).$)("6dd2bc9e4192ce50df1242856553681e31755a53")},80605:function(e,t,a){"use strict";a.d(t,{Ht:function(){return l},Np:function(){return r},ky:function(){return o},nk:function(){return i},yz:function(){return n}}),a(83079);var s=a(12119),l=(0,s.$)("fa62516f8037816747b2b5a9e1a98cb509fd1392");(0,s.$)("99625e5ddd7496b07a3d1bef68618b3c0dea0807");var r=(0,s.$)("fa243003df30442bc2aecbf2ef0a066905ac5957"),n=(0,s.$)("fa6112528e902fdca102489e06fea745880f88e3"),i=(0,s.$)("7de9b2e88ac6f2353c5fd471e06d474840aa2b9d"),o=(0,s.$)("02f8b5f4427802069c340e000d95c47832f566ab");(0,s.$)("b2f37d365706e518bb626c2b173581e35f41c9e7")}},function(e){e.O(0,[9142,5950,2498,5605,789,2972,7765,2586,3252,2143,9445,619,3464,301,6663,8626,9174,2451,1317,9115,4441,2971,2117,1744],function(){return e(e.s=57538)}),_N_E=e.O()}]);