<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ParentGuard | Advanced Dashboard</title>
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Leaflet CSS (For Maps) -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">
    <style>
        :root {
            --primary: #4361ee;
            --secondary: #3f37c9;
            --success: #4cc9f0;
            --danger: #f72585;
            --warning: #f8961e;
            --info: #4895ef;
            --dark: #1e1e2c;
            --light: #f8f9fa;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            margin: 0;
            padding: 0;
        }

        .glass-card {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(10px);
            border-radius: 16px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }

        .glass-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.2);
        }

        .stat-card {
            padding: 1.5rem;
            text-align: center;
            color: white;
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: 700;
            margin: 0;
        }

        .stat-label {
            font-size: 0.9rem;
            opacity: 0.9;
            margin: 0;
        }

        .control-btn {
            padding: 1rem;
            border: none;
            border-radius: 12px;
            font-weight: 600;
            transition: all 0.3s ease;
            width: 100%;
            margin-bottom: 1rem;
        }

        .control-btn:hover {
            transform: scale(1.05);
        }

        #map {
            height: 300px;
            border-radius: 12px;
            z-index: 1;
        }

        .app-usage-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.75rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            transition: background 0.3s ease;
        }

        .app-usage-item:hover {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
        }

        .nav-tabs .nav-link {
            color: rgba(255, 255, 255, 0.7);
            border: none;
            padding: 1rem 1.5rem;
        }

        .nav-tabs .nav-link.active {
            color: white;
            background: transparent;
            border-bottom: 3px solid var(--success);
        }
    </style>
</head>
<body>
    <!-- Header -->
    <div class="container py-4">
        <div class="d-flex justify-content-between align-items-center glass-card p-3 mb-4">
            <div>
                <h1 class="h3 mb-0 text-white"><i class="fas fa-shield-alt me-2"></i>ParentGuard</h1>
                <p class="mb-0 text-white-50">Advanced Parental Control Dashboard</p>
            </div>
            <div class="d-flex align-items-center">
                <div class="form-check form-switch me-3">
                    <input class="form-check-input" type="checkbox" id="darkModeSwitch">
                    <label class="form-check-label text-white" for="darkModeSwitch">Dark Mode</label>
                </div>
                <span class="badge bg-success">Live</span>
            </div>
        </div>

        <!-- Stats Cards -->
        <div class="row g-4 mb-4">
            <div class="col-md-3">
                <div class="glass-card stat-card" style="background: rgba(76, 201, 240, 0.2);">
                    <i class="fas fa-clock fa-2x mb-2"></i>
                    <h2 class="stat-number" id="screenTime">0h 0m</h2>
                    <p class="stat-label">Screen Time Today</p>
                </div>
            </div>
            <div class="col-md-3">
                <div class="glass-card stat-card" style="background: rgba(247, 37, 133, 0.2);">
                    <i class="fas fa-mobile-alt fa-2x mb-2"></i>
                    <h2 class="stat-number" id="totalApps">0</h2>
                    <p class="stat-label">Apps Used</p>
                </div>
            </div>
            <div class="col-md-3">
                <div class="glass-card stat-card" style="background: rgba(248, 150, 30, 0.2);">
                    <i class="fas fa-ban fa-2x mb-2"></i>
                    <h2 class="stat-number" id="blockedAttempts">0</h2>
                    <p class="stat-label">Blocked Attempts</p>
                </div>
            </div>
            <div class="col-md-3">
                <div class="glass-card stat-card" style="background: rgba(247, 37, 133, 0.2);">
                    <i class="fas fa-bell fa-2x mb-2"></i>
                    <h2 class="stat-number" id="alerts">0</h2>
                    <p class="stat-label">Active Alerts</p>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="row g-4">
            <!-- Left Column -->
            <div class="col-lg-8">
                <!-- Charts Section -->
                <div class="glass-card p-4 mb-4">
                    <ul class="nav nav-tabs mb-3">
                        <li class="nav-item">
                            <a class="nav-link active" data-bs-toggle="tab" href="#appUsage">App Usage</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" data-bs-toggle="tab" href="#timeUsage">Time Analysis</a>
                        </li>
                    </ul>
                    <div class="tab-content">
                        <div class="tab-pane fade show active" id="appUsage">
                            <canvas id="appUsageChart" height="250"></canvas>
                        </div>
                        <div class="tab-pane fade" id="timeUsage">
                            <canvas id="timeAnalysisChart" height="250"></canvas>
                        </div>
                    </div>
                </div>

                <!-- App List -->
                <div class="glass-card p-4">
                    <div class="d-flex justify-content-between align-items-center mb-3">
                        <h5 class="text-white mb-0"><i class="fas fa-list me-2"></i>Recent App Usage</h5>
                        <span class="badge bg-info" id="refreshTime">Updated: Just now</span>
                    </div>
                    <div id="appList">
                        <!-- App items will be loaded here -->
                    </div>
                </div>
            </div>

            <!-- Right Column -->
            <div class="col-lg-4">
                <!-- Remote Controls -->
                <div class="glass-card p-4 mb-4">
                    <h5 class="text-white mb-4"><i class="fas fa-gamepad me-2"></i>Remote Control</h5>
                    <button class="control-btn btn-danger" id="btnLockDevice">
                        <i class="fas fa-lock me-2"></i>Lock Device
                    </button>
                    <button class="control-btn btn-warning" id="btnSetLimit">
                        <i class="fas fa-hourglass-half me-2"></i>Set Time Limit
                    </button>
                    <button class="control-btn btn-info" id="btnViewLocation">
                        <i class="fas fa-map-marker-alt me-2"></i>View Location
                    </button>
                    <button class="control-btn btn-success" id="btnSendMessage">
                        <i class="fas fa-comment me-2"></i>Send Message
                    </button>
                </div>

                <!-- Live Location -->
                <div class="glass-card p-4">
                    <h5 class="text-white mb-3"><i class="fas fa-map-marked-alt me-2"></i>Live Location</h5>
                    <div id="map"></div>
                    <div class="mt-3 text-white">
                        <small><i class="fas fa-info-circle me-1"></i>Last updated: <span id="locationTime">--:--</span></small>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap & Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Leaflet JS (Maps) -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    <script src="app.js"></script>
</body>
                                                       </html>
