<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Guard Web Panel</title>
<style>
    body { font-family: Arial, sans-serif; background:#111; color:#eee; padding:20px; }
    h1 { color:#00f; }
    pre { background:#222; padding:10px; border-radius:8px; overflow-x:auto; }
    section { margin-bottom:30px; }
    .folder { margin-left:20px; }
</style>
<!-- Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
</head>
<body>

<h1>Guard Web Panel</h1>

<section>
<h2>Device Info</h2>
<pre id="device">Loading...</pre>
</section>

<section>
<h2>Battery</h2>
<pre id="battery">Loading...</pre>
</section>

<section>
<h2>Location</h2>
<pre id="location">Loading...</pre>
</section>

<section>
<h2>Installed Apps</h2>
<pre id="apps">Loading...</pre>
</section>

<section>
<h2>My Files</h2>
<pre id="myfiles">Loading...</pre>
</section>

<script>
  // Firebase config
  const firebaseConfig = {
    apiKey: "AIzaSyBu_kO8o411oUbAz0QiYUTmrOhaxf1gLyM",
    authDomain: "guard-22007.firebaseapp.com",
    databaseURL: "https://guard-22007-default-rtdb.firebaseio.com",
    projectId: "guard-22007",
    storageBucket: "guard-22007.appspot.com",
    messagingSenderId: "166908422013",
    appId: "1:166908422013:android:3f6f845b720257c188ce14"
  };

  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);
  const dbRef = firebase.database().ref('responses/structured_data');

  // Listen for changes in Firebase
  dbRef.on('value', snapshot => {
      const data = snapshot.val();
      if(!data) return;

      document.getElementById('device').textContent = JSON.stringify(data.Device, null, 2);
      document.getElementById('battery').textContent = data.Battery + "%";
      document.getElementById('location').textContent = JSON.stringify(data.Location, null, 2);
      document.getElementById('apps').textContent = JSON.stringify(data.Apps, null, 2);
      document.getElementById('myfiles').textContent = JSON.stringify(data.MyFiles, null, 2);
  });
</script>

</body>
</html>
